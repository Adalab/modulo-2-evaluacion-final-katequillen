"use strict";const input=document.querySelector(".js-search"),list=document.querySelector(".js-list"),form=document.querySelector(".js-form");let arraySeries=[];function getList(){const e=input.value;fetch("//api.tvmaze.com/search/shows?q="+e).then(e=>e.json()).then(e=>{arraySeries=new Array(e.length);for(let t=0;t<e.length;t++)arraySeries[t]=new Array(3),arraySeries[t][0]=new Array(2);for(let t=0;t<e.length;t++)arraySeries[t][0]=e[t].show.image,arraySeries[t][1]=e[t].show.name,arraySeries[t][2]=e[t].show.id;generateList(arraySeries)})}function generateList(e){let t="";for(let r=0;r<e.length;r++){const a=e[r][0],i=e[r][1],s=e[r][2],n="https://via.placeholder.com/100x150/ffffff/666666/?text=TV";favorites.find(e=>e===selectedId);t=null===a?`<li data-id=${s}><div class="card"><img class="image" src="${n}" alt="series poster placeholder">${i}</div></li>`:`<li data-id=${s}><div class="card"><img class="image" src="${a.medium}" alt="series poster">${i}</div></li>`,list.innerHTML+=t}}function handleSubmit(e){e.preventDefault()}function handleKeySearch(e){getList()}form.addEventListener("submit",handleSubmit),input.addEventListener("keyup",handleKeySearch);let globalData=[],favorites=[];function itemListener(){const e=document.querySelectorAll(".favorite");for(const t of e)t.addEventListener("click",handleClickItem)}function handleClickItem(e){e.target;const t=e.currentTarget;console.log(globalData),console.log(t);const r=t.dataset.id;void 0===favorites.find(e=>e===r)?favorites.push(r):favorites=favorites.filter(e=>e!==r)}